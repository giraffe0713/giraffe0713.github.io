<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>dragable</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<script src="js/jquery-1.10.2.js"></script>
<script src="js/jquery-ui-1.10.4.custom.js"></script>
<style type="text/css">
	* { margin: 0; padding: 0;}
	.right_place { width: 200px; height: 155px; margin-top: 20px; border: 1px solid #000;}
	#image_dragable { position: relative; left: 0; top: 0; display: inline-block; *display: inline; *zoom: 1; padding: 1px 0;}
	#image_dragable img { display: block;}
	#p_dragable { width: 300px; color: #947; cursor: pointer;}
	#image_dragable.image_dragable_on { border: 1px solid #000; padding: 0; box-shadow: 2px 2px 2px #888888;}
</style>
</head>
<body>
    <div class="page">
    	<a href="javascript:;" id="image_dragable">
    		<img src="images/meet-you.jpg" alt="">
    	</a>
    	<div class="right_place"></div>
    </div>
<script>
	$(function(){
		var count = [0,0,0]
		$("#image_dragable").draggable({
			start:draggable_start,
			// drag:draggable_drag(),
			stop:draggable_stop

		});
		$("#p_dragable").draggable();

		function draggable_start(event,ui){
			// console.log($(this));
			$(this).addClass('image_dragable_on');
		}

		function draggable_stop(event,ui){
			if(judgePosition($(this),1,180)){
				moveToTarget($(this),1,180);
			}else{
				moveToTarget($(this),0,0)
			}
		}

		function judgePosition(obj,leftPositon,topPositon){
			obj.css("position","relative");
			var objOffset = obj.offset();
			var objOffset_x = objOffset.left;
			var objOffset_y = objOffset.top;
			var leftGap = Math.abs(objOffset_x - leftPositon );
			var topGap = Math.abs(objOffset_y - topPositon );
			if(leftGap<50&&topGap<50){
				return true;
			}else{
				return false;
			}
		}


		function moveToTarget(obj,leftPositon,topPositon){
			obj.animate({
				left: leftPositon,
				top: topPositon},
				500, function() {
				obj.removeClass('image_dragable_on');
			});
		}

	})
</script>
</body>
</html>